@using System.Web.Optimization
@using EPiServer.Framework.Web.Mvc.Html
@using alloy_angular.Business
@model IPageViewModel<SitePageData>
<!DOCTYPE html>
<html lang="@Model.CurrentPage.LanguageBranch">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=10" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>@Model.CurrentPage.MetaTitle</title>
        @*@Html.CanonicalLink()
        @Html.AlternateLinks()*@
        @Styles.Render("~/bundles/css")
        @*@Html.RequiredClientResources("Header")*@ 

        <!-- Polyfills -->
        <script src="~/node_modules/core-js/client/shim.min.js"></script>
        <script src="~/node_modules/zone.js/dist/zone.js"></script>
        <script src="~/node_modules/systemjs/dist/system.src.js"></script>
        <script src="~/src/systemjs.config.js"></script>
        @{
            if (EPiServer.Editor.PageEditing.PageIsInEditMode)
            {
                <script>
                    debugger
                    System.paths["npm:"] = window.location.origin + '/node_modules/'
                    System.import('../../../../dist/main.js').catch(function (err) { console.error(err); });
                </script>
            }
            else
            {
                <script>
                    System.import('./dist/main.js').catch(function (err) { console.error(err); });
                </script>
            }
        }
    </head>

    <body>
        <vizob-app>
             
        </vizob-app>

        @RenderBody()

        @*@if (Model.Layout.IsInReadonlyMode)
        {
            Html.RenderPartial("Readonly", Model);
        }

        @Html.RenderEPiServerQuickNavigator()
        @Html.FullRefreshPropertiesMetaData()
        <div class="container">
            @if(!Model.Layout.HideHeader)
            {
                Html.RenderPartial("Header", Model);
            }
            @RenderBody()
            @if(!Model.Layout.HideHeader)
            {
                Html.RenderPartial("Footer", Model);
            }
        </div>
        @Html.RequiredClientResources("Footer")*@
    </body>
</html>
